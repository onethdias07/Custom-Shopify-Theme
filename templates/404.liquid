{% comment %}
Custom 404 Error Page
This page is shown when users visit a URL that doesn't exist
{% endcomment %}

<div class="error-page-container">
  <div class="error-page-content">
    <!-- Error Icon -->
    <div class="error-icon">
      <svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="60" cy="60" r="50" stroke="#e8e8e8" stroke-width="4" fill="none"/>
        <path d="M40 45L80 75M80 45L40 75" stroke="#999" stroke-width="3" stroke-linecap="round"/>
        <text x="60" y="100" text-anchor="middle" font-size="14" fill="#666" font-family="var(--body-font)">404</text>
      </svg>
    </div>

    <!-- Error Content -->
    <div class="error-content">
      <h1 class="error-title">Page Not Found</h1>
      <p class="error-message">
        Sorry, the page you're looking for doesn't exist or has been moved. 
        Don't worry, let's get you back on track!
      </p>

      <!-- Search Form -->
      <div class="error-search">
        <h3 class="error-search-title">Try searching for what you need:</h3>
        <form action="{{ routes.search_url }}" method="get" class="search-form">
          <div class="search-input-wrapper">
            <input 
              type="search" 
              name="q" 
              placeholder="Search products, collections..." 
              class="search-input"
              aria-label="Search"
            >
            <button type="submit" class="search-submit">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              </svg>
              <span class="visually-hidden">Search</span>
            </button>
          </div>
        </form>
      </div>

      <!-- Quick Navigation -->
      <div class="error-navigation">
        <h3 class="error-nav-title">Or browse these popular sections:</h3>
        <div class="error-nav-links">
          <a href="{{ routes.root_url }}" class="error-nav-link primary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 9.5L12 4L21 9.5V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V9.5Z" stroke="currentColor" stroke-width="2"/>
              <path d="M9 21V12H15V21" stroke="currentColor" stroke-width="2"/>
            </svg>
            Home
          </a>
          
          <a href="{{ routes.all_products_collection_url }}" class="error-nav-link">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="3" y="3" width="7" height="7" stroke="currentColor" stroke-width="2"/>
              <rect x="14" y="3" width="7" height="7" stroke="currentColor" stroke-width="2"/>
              <rect x="14" y="14" width="7" height="7" stroke="currentColor" stroke-width="2"/>
              <rect x="3" y="14" width="7" height="7" stroke="currentColor" stroke-width="2"/>
            </svg>
            All Products
          </a>

          {% if collections.size > 0 %}
            {% for collection in collections limit: 3 %}
              {% unless collection.handle == 'all' %}
                <a href="{{ collection.url }}" class="error-nav-link">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 7L12 14L5 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  {{ collection.title }}
                </a>
              {% endunless %}
            {% endfor %}
          {% endif %}

          <a href="{{ routes.cart_url }}" class="error-nav-link">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="9" cy="21" r="1" stroke="currentColor" stroke-width="2"/>
              <circle cx="20" cy="21" r="1" stroke="currentColor" stroke-width="2"/>
              <path d="M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Your Cart
          </a>
        </div>
      </div>

      <!-- Contact Information -->
      <div class="error-contact">
        <p class="error-contact-text">
          Still can't find what you're looking for? 
          <a href="/pages/contact" class="error-contact-link">Contact our support team</a> 
          and we'll be happy to help!
        </p>
      </div>
    </div>
  </div>

  <!-- Featured Products Section (Optional) -->
  {% if collections['featured'] != blank and collections['featured'].products_count > 0 %}
    <div class="error-featured-products">
      <h2 class="error-featured-title">Meanwhile, check out these featured products:</h2>
      <div class="error-products-grid">
        {% for product in collections['featured'].products limit: 4 %}
          <div class="error-product-card">
            <a href="{{ product.url }}" class="error-product-link">
              {% if product.featured_media %}
                <div class="error-product-image">
                  <img 
                    src="{{ product.featured_media | img_url: '300x300' }}" 
                    alt="{{ product.featured_media.alt | default: product.title }}"
                    loading="lazy"
                  >
                </div>
              {% endif %}
              <div class="error-product-info">
                <h3 class="error-product-title">{{ product.title }}</h3>
                <p class="error-product-price">{{ product.price | money }}</p>
              </div>
            </a>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}
</div>

<style>
  /* 404 Error Page Styles */
  .error-page-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 60px 40px;
    text-align: center;
  }

  .error-page-content {
    max-width: 600px;
    margin: 0 auto 80px;
  }

  .error-icon {
    margin-bottom: 40px;
  }

  .error-title {
    font-size: 2.5rem;
    font-weight: 600;
    color: #2c2c2c;
    margin-bottom: 16px;
    letter-spacing: -0.02em;
  }

  .error-message {
    font-size: 1.1rem;
    color: #666;
    line-height: 1.6;
    margin-bottom: 40px;
  }

  .error-search {
    margin-bottom: 50px;
  }

  .error-search-title {
    font-size: 1.25rem;
    color: #2c2c2c;
    margin-bottom: 16px;
    font-weight: 500;
  }

  .search-input-wrapper {
    display: flex;
    max-width: 400px;
    margin: 0 auto;
    position: relative;
  }

  .search-input {
    flex: 1;
    padding: 12px 50px 12px 16px;
    border: 2px solid #e8e8e8;
    border-radius: 6px;
    font-size: 16px;
    background: white;
    transition: border-color 0.2s ease;
  }

  .search-input:focus {
    outline: none;
    border-color: #2c2c2c;
  }

  .search-submit {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    padding: 8px;
    cursor: pointer;
    color: #666;
    transition: color 0.2s ease;
  }

  .search-submit:hover {
    color: #2c2c2c;
  }

  .error-navigation {
    margin-bottom: 50px;
  }

  .error-nav-title {
    font-size: 1.25rem;
    color: #2c2c2c;
    margin-bottom: 20px;
    font-weight: 500;
  }

  .error-nav-links {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    justify-content: center;
  }

  .error-nav-link {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 12px 20px;
    background: #f8f9fa;
    color: #2c2c2c;
    text-decoration: none;
    border-radius: 6px;
    font-weight: 500;
    transition: all 0.2s ease;
    border: 2px solid transparent;
  }

  .error-nav-link:hover {
    background: #2c2c2c;
    color: white;
    text-decoration: none;
  }

  .error-nav-link.primary {
    background: #2c2c2c;
    color: white;
  }

  .error-nav-link.primary:hover {
    background: #1a1a1a;
  }

  .error-contact {
    margin-bottom: 40px;
  }

  .error-contact-text {
    color: #666;
    font-size: 1rem;
  }

  .error-contact-link {
    color: #2c2c2c;
    text-decoration: underline;
    font-weight: 500;
  }

  .error-contact-link:hover {
    text-decoration: none;
  }

  /* Featured Products */
  .error-featured-products {
    border-top: 1px solid #e8e8e8;
    padding-top: 60px;
  }

  .error-featured-title {
    font-size: 1.75rem;
    color: #2c2c2c;
    margin-bottom: 40px;
    font-weight: 600;
  }

  .error-products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 30px;
    max-width: 1000px;
    margin: 0 auto;
  }

  .error-product-card {
    text-align: left;
  }

  .error-product-link {
    text-decoration: none;
    color: inherit;
    display: block;
    transition: transform 0.2s ease;
  }

  .error-product-link:hover {
    transform: translateY(-2px);
    text-decoration: none;
  }

  .error-product-image {
    margin-bottom: 16px;
    border-radius: 6px;
    overflow: hidden;
  }

  .error-product-image img {
    width: 100%;
    height: auto;
    display: block;
  }

  .error-product-title {
    font-size: 1.1rem;
    color: #2c2c2c;
    margin-bottom: 8px;
    font-weight: 500;
  }

  .error-product-price {
    color: #666;
    font-weight: 600;
    margin: 0;
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    .error-page-container {
      padding: 40px 20px;
    }

    .error-title {
      font-size: 2rem;
    }

    .error-nav-links {
      flex-direction: column;
      align-items: center;
    }

    .error-nav-link {
      width: 100%;
      max-width: 280px;
      justify-content: center;
    }

    .search-input-wrapper {
      max-width: 100%;
    }

    .error-products-grid {
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }
  }
</style>