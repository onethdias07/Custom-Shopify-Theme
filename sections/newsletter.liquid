{% comment %}
Newsletter Signup Section
Supports multiple layouts: inline, centered, split
{% endcomment %}

<div class="newsletter-section newsletter-{{ section.settings.layout }}" 
     style="background: {{ section.settings.background_color }}; 
            color: {{ section.settings.text_color }};">
  
  <div class="newsletter-container">
    {% if section.settings.layout == 'split' %}
      <div class="newsletter-content">
        <div class="newsletter-text">
          {% if section.settings.icon_type != 'none' %}
            <div class="newsletter-icon">
              {% if section.settings.icon_type == 'email' %}
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2"/>
                </svg>
              {% elsif section.settings.icon_type == 'heart' %}
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" stroke="currentColor" stroke-width="2"/>
                </svg>
              {% elsif section.settings.icon_type == 'bell' %}
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2"/>
                  <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2"/>
                </svg>
              {% elsif section.settings.icon_type == 'gift' %}
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <polyline points="20,12 20,22 4,22 4,12" stroke="currentColor" stroke-width="2"/>
                  <rect x="2" y="7" width="20" height="5" stroke="currentColor" stroke-width="2"/>
                  <line x1="12" y1="22" x2="12" y2="7" stroke="currentColor" stroke-width="2"/>
                  <path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z" stroke="currentColor" stroke-width="2"/>
                  <path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z" stroke="currentColor" stroke-width="2"/>
                </svg>
              {% endif %}
            </div>
          {% endif %}
          
          {% if section.settings.heading != blank %}
            <h2 class="newsletter-heading">{{ section.settings.heading }}</h2>
          {% endif %}
          
          {% if section.settings.subheading != blank %}
            <p class="newsletter-subheading">{{ section.settings.subheading }}</p>
          {% endif %}
          
          {% if section.settings.show_benefits %}
            <div class="newsletter-benefits">
              <div class="benefit-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <polyline points="20,6 9,17 4,12" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>{{ section.settings.benefit_1 | default: 'Exclusive offers & discounts' }}</span>
              </div>
              <div class="benefit-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <polyline points="20,6 9,17 4,12" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>{{ section.settings.benefit_2 | default: 'New product announcements' }}</span>
              </div>
              <div class="benefit-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <polyline points="20,6 9,17 4,12" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>{{ section.settings.benefit_3 | default: 'Style tips & trends' }}</span>
              </div>
            </div>
          {% endif %}
        </div>
        
        <div class="newsletter-form-wrapper">
    {% else %}
      <div class="newsletter-content newsletter-inline">
        {% if section.settings.icon_type != 'none' %}
          <div class="newsletter-icon">
            {% comment %} Same icon code as above {% endcomment %}
            {% if section.settings.icon_type == 'email' %}
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="currentColor" stroke-width="2"/>
                <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2"/>
              </svg>
            {% elsif section.settings.icon_type == 'heart' %}
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" stroke="currentColor" stroke-width="2"/>
              </svg>
            {% elsif section.settings.icon_type == 'bell' %}
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2"/>
                <path d="M13.73 21a2 2 0 0 1-3.46 0" stroke="currentColor" stroke-width="2"/>
              </svg>
            {% elsif section.settings.icon_type == 'gift' %}
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <polyline points="20,12 20,22 4,22 4,12" stroke="currentColor" stroke-width="2"/>
                <rect x="2" y="7" width="20" height="5" stroke="currentColor" stroke-width="2"/>
                <line x1="12" y1="22" x2="12" y2="7" stroke="currentColor" stroke-width="2"/>
                <path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z" stroke="currentColor" stroke-width="2"/>
                <path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z" stroke="currentColor" stroke-width="2"/>
              </svg>
            {% endif %}
          </div>
        {% endif %}
        
        <div class="newsletter-text">
          {% if section.settings.heading != blank %}
            <h2 class="newsletter-heading">{{ section.settings.heading }}</h2>
          {% endif %}
          
          {% if section.settings.subheading != blank %}
            <p class="newsletter-subheading">{{ section.settings.subheading }}</p>
          {% endif %}
        </div>
        
        <div class="newsletter-form-wrapper">
    {% endif %}

    {% comment %} Newsletter Form - Shopify Official Implementation {% endcomment %}
    {% if form.posted_successfully? %}
      <div class="form-success" id="newsletter-success">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" stroke="currentColor" stroke-width="2"/>
          <polyline points="22,4 12,14.01 9,11.01" stroke="currentColor" stroke-width="2"/>
        </svg>
        <div>
          <h3>{{ section.settings.success_heading | default: 'Welcome to our newsletter!' }}</h3>
          <p>{{ section.settings.success_message | default: 'Thank you for subscribing. You will receive a confirmation email shortly.' }}</p>
        </div>
      </div>
    {% else %}
      {% form 'customer', class: 'newsletter-form', id: 'newsletter-form' %}
        {% if form.errors %}
          <div class="form-errors">
            {{ form.errors | default_errors }}
          </div>
        {% endif %}
        
        <div class="form-content" id="newsletter-form-content">
          <div class="input-group">
            <div class="email">
              <label for="newsletter-email" class="visually-hidden">Email</label>
              <input 
                type="email" 
                name="contact[email]" 
                id="newsletter-email"
                class="newsletter-input" 
                placeholder="{{ section.settings.placeholder | default: 'Enter your email address' }}"
                value="{{ form.email }}"
                required
                autocomplete="email">
              <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="currentColor" stroke-width="2"/>
                <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2"/>
              </svg>
            </div>
            
            <div class="submit">
              <input type="submit" value="{{ section.settings.button_text | default: 'Subscribe' }}" class="newsletter-button" id="newsletter-submit">
            </div>
          </div>

          {% if section.settings.show_disclaimer %}
            <p class="newsletter-disclaimer">
              {{ section.settings.disclaimer_text | default: 'No spam, unsubscribe at any time.' }}
            </p>
          {% endif %}
        </div>
      {% endform %}
    {% endif %}

        </div>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const newsletterForm = document.getElementById('newsletter-form');
  
  if (newsletterForm) {
    // Simple form enhancement for better UX
    newsletterForm.addEventListener('submit', function(e) {
      const submitButton = newsletterForm.querySelector('input[type="submit"]');
      const emailInput = newsletterForm.querySelector('input[name="contact[email]"]');
      
      if (submitButton && emailInput && emailInput.value) {
        // Show loading state
        const originalValue = submitButton.value;
        submitButton.value = 'Subscribing...';
        submitButton.disabled = true;
        
        // Let Shopify handle the actual submission
        // Reset loading state after a short delay in case of immediate error
        setTimeout(() => {
          if (submitButton.disabled) {
            submitButton.value = originalValue;
            submitButton.disabled = false;
          }
        }, 5000);
      }
    });
  }
});
</script>

<style>
  .newsletter-section {
    padding: var(--section-vertical-spacing, 60px) 0;
    position: relative;
    overflow: hidden;
  }

  .newsletter-container {
    max-width: var(--container-max-width, 1200px);
    margin: 0 auto;
    padding: 0 40px;
  }

  /* Layout Styles */
  .newsletter-centered .newsletter-content {
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
  }

  .newsletter-split .newsletter-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 60px;
    align-items: center;
  }

  .newsletter-inline .newsletter-content {
    display: flex;
    align-items: center;
    gap: 24px;
    text-align: left;
  }

  .newsletter-inline .newsletter-text {
    flex: 1;
  }

  .newsletter-inline .newsletter-form-wrapper {
    flex: 1;
    max-width: 400px;
  }

  /* Icon Styles */
  .newsletter-icon {
    color: currentColor;
    margin-bottom: 20px;
    display: inline-block;
  }

  .newsletter-inline .newsletter-icon {
    margin-bottom: 0;
    margin-right: 16px;
  }

  /* Typography */
  .newsletter-heading {
    font-size: 2rem;
    font-weight: 700;
    margin: 0 0 12px 0;
    line-height: 1.2;
  }

  .newsletter-subheading {
    font-size: 1.1rem;
    margin: 0 0 24px 0;
    opacity: 0.9;
    line-height: 1.5;
  }

  /* Benefits */
  .newsletter-benefits {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 24px;
  }

  .benefit-item {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 14px;
  }

  .benefit-item svg {
    color: var(--color-success, #28a745);
    flex-shrink: 0;
  }

  /* Form Styles */
  .newsletter-form {
    width: 100%;
  }

  .input-group {
    display: flex;
    gap: 12px;
    margin-bottom: 16px;
  }

  .newsletter-centered .input-group {
    justify-content: center;
  }

  .email {
    position: relative;
    flex: 1;
  }

  .submit {
    display: flex;
    align-items: center;
  }

  /* Accessibility */
  .visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Form States */
  .form-errors {
    background: rgba(220, 53, 69, 0.1);
    border: 1px solid rgba(220, 53, 69, 0.3);
    color: #dc3545;
    padding: 12px 16px;
    border-radius: 6px;
    margin-bottom: 16px;
    font-size: 14px;
  }

  .form-success {
    display: flex;
    align-items: center;
    gap: 12px;
    background: rgba(40, 167, 69, 0.1);
    border: 1px solid rgba(40, 167, 69, 0.3);
    color: #28a745;
    padding: 20px;
    border-radius: 8px;
    text-align: left;
  }

  .form-success svg {
    color: #28a745;
    flex-shrink: 0;
  }

  .form-success h3 {
    margin: 0 0 4px 0;
    font-size: 16px;
    font-weight: 600;
  }

  .form-success p {
    margin: 0;
    font-size: 14px;
    opacity: 0.9;
  }

  .newsletter-input {
    width: 100%;
    padding: 14px 16px 14px 48px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 8px;
    font-size: 16px;
    background: rgba(255, 255, 255, 0.1);
    color: currentColor;
    transition: all 0.3s ease;
  }

  .newsletter-input::placeholder {
    color: rgba(255, 255, 255, 0.7);
  }

  .newsletter-input:focus {
    outline: none;
    border-color: rgba(255, 255, 255, 0.8);
    background: rgba(255, 255, 255, 0.2);
  }

  .input-icon {
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    opacity: 0.7;
    pointer-events: none;
  }

  .newsletter-button {
    padding: 14px 24px;
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid rgba(255, 255, 255, 0.5);
    border-radius: 8px;
    color: currentColor;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
    white-space: nowrap;
  }

  .newsletter-button:hover {
    background: rgba(255, 255, 255, 0.3);
    border-color: rgba(255, 255, 255, 0.8);
    transform: translateY(-1px);
  }

  .newsletter-button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }

  .btn-loading {
    display: none !important;
  }

  .newsletter-button.loading .btn-text {
    display: none;
  }

  .newsletter-button.loading .btn-loading {
    display: flex !important;
  }

  /* Consent Checkbox */
  .consent-wrapper {
    margin-top: 16px;
  }

  .consent-checkbox {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    cursor: pointer;
    font-size: 14px;
    line-height: 1.4;
  }

  .consent-checkbox input[type="checkbox"] {
    display: none;
  }

  .checkmark {
    width: 18px;
    height: 18px;
    border: 2px solid rgba(255, 255, 255, 0.5);
    border-radius: 3px;
    background: transparent;
    transition: all 0.3s ease;
    flex-shrink: 0;
    margin-top: 1px;
    position: relative;
  }

  .consent-checkbox input[type="checkbox"]:checked + .checkmark {
    background: rgba(255, 255, 255, 0.9);
    border-color: rgba(255, 255, 255, 0.9);
  }

  .consent-checkbox input[type="checkbox"]:checked + .checkmark:after {
    content: '';
    position: absolute;
    left: 5px;
    top: 2px;
    width: 4px;
    height: 8px;
    border: solid #333;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
  }

  .privacy-link {
    color: rgba(255, 255, 255, 0.9);
    text-decoration: underline;
  }

  .privacy-link:hover {
    color: white;
  }

  /* Success/Error Messages */
  .form-success {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    padding: 20px;
    background: rgba(40, 167, 69, 0.1);
    border: 1px solid rgba(40, 167, 69, 0.3);
    border-radius: 8px;
    color: #28a745;
  }

  .form-success svg {
    flex-shrink: 0;
    margin-top: 2px;
  }

  .form-success h3 {
    margin: 0 0 4px 0;
    font-size: 1rem;
    font-weight: 600;
  }

  .form-success p {
    margin: 0;
    font-size: 14px;
    opacity: 0.9;
  }

  .form-error {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 12px;
    color: #ff6b6b;
    font-size: 14px;
  }

  .form-error svg {
    flex-shrink: 0;
  }

  /* Disclaimer */
  .newsletter-disclaimer {
    font-size: 12px;
    opacity: 0.7;
    margin: 12px 0 0 0;
    text-align: center;
  }

  /* Spinner Animation */
  .spinner {
    animation: spin 1s linear infinite;
  }

  .spinner-path {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: 0;
    stroke-linecap: round;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  /* Light Background Variant */
  .newsletter-section[style*="background: #fff"],
  .newsletter-section[style*="background: white"],
  .newsletter-section[style*="background-color: #fff"],
  .newsletter-section[style*="background-color: white"] {
    color: #333;
  }

  .newsletter-section[style*="background: #fff"] .newsletter-input,
  .newsletter-section[style*="background: white"] .newsletter-input {
    background: #f8f9fa;
    border-color: #e8e8e8;
    color: #333;
  }

  .newsletter-section[style*="background: #fff"] .newsletter-input::placeholder,
  .newsletter-section[style*="background: white"] .newsletter-input::placeholder {
    color: #666;
  }

  .newsletter-section[style*="background: #fff"] .newsletter-button,
  .newsletter-section[style*="background: white"] .newsletter-button {
    background: var(--color-primary, #333);
    border-color: var(--color-primary, #333);
    color: white;
  }

  .newsletter-section[style*="background: #fff"] .checkmark,
  .newsletter-section[style*="background: white"] .checkmark {
    border-color: #e8e8e8;
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .newsletter-container {
      padding: 0 20px;
    }

    .newsletter-split .newsletter-content {
      grid-template-columns: 1fr;
      gap: 40px;
      text-align: center;
    }

    .newsletter-inline .newsletter-content {
      flex-direction: column;
      text-align: center;
      gap: 20px;
    }

    .newsletter-inline .newsletter-form-wrapper {
      max-width: 100%;
    }

    .input-group {
      flex-direction: column;
      gap: 12px;
    }

    .newsletter-heading {
      font-size: 1.5rem;
    }

    .newsletter-benefits {
      align-items: center;
    }

    .consent-text {
      font-size: 13px;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const newsletterForm = document.getElementById('newsletter-form');
    const submitBtn = document.getElementById('newsletter-submit');
    const formContent = document.getElementById('newsletter-form-content');
    const successMessage = document.getElementById('newsletter-success');
    const errorMessage = document.getElementById('newsletter-error');
    const errorText = document.getElementById('error-message');
    const emailInput = document.getElementById('newsletter-email');

    if (newsletterForm && submitBtn) {
      newsletterForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Clear previous errors
        hideError();
        
        // Validate email
        const email = emailInput.value.trim();
        if (!isValidEmail(email)) {
          showError('Please enter a valid email address.');
          return;
        }

        // Check consent if required
        const consentCheckbox = newsletterForm.querySelector('input[name="contact[accepts_marketing]"]');
        if (consentCheckbox && !consentCheckbox.checked) {
          showError('Please agree to receive marketing emails.');
          return;
        }

        // Show loading state
        submitBtn.classList.add('loading');
        submitBtn.disabled = true;

        // Submit form via AJAX
        const formData = new FormData(newsletterForm);
        
        fetch(newsletterForm.action || window.location.href, {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json',
          }
        })
        .then(response => response.json())
        .then(data => {
          if (data.success || data.status === 'success') {
            showSuccess();
          } else {
            throw new Error(data.message || 'Subscription failed');
          }
        })
        .catch(error => {
          console.error('Newsletter subscription error:', error);
          showError(error.message || 'Something went wrong. Please try again.');
        })
        .finally(() => {
          submitBtn.classList.remove('loading');
          submitBtn.disabled = false;
        });
      });
    }

    function isValidEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }

    function showSuccess() {
      if (formContent && successMessage) {
        formContent.style.display = 'none';
        successMessage.style.display = 'flex';
      }
    }

    function showError(message) {
      if (errorMessage && errorText) {
        errorText.textContent = message;
        errorMessage.style.display = 'flex';
      }
    }

    function hideError() {
      if (errorMessage) {
        errorMessage.style.display = 'none';
      }
    }

    // Real-time email validation
    if (emailInput) {
      emailInput.addEventListener('input', function() {
        hideError();
        
        if (this.value.length > 0 && !isValidEmail(this.value)) {
          this.style.borderColor = '#ff6b6b';
        } else {
          this.style.borderColor = '';
        }
      });
    }
  });
</script>

{% schema %}
{
  "name": "Newsletter Signup",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "layout",
      "label": "Layout style",
      "options": [
        {
          "value": "centered",
          "label": "Centered"
        },
        {
          "value": "split",
          "label": "Split (Text + Form)"
        },
        {
          "value": "inline",
          "label": "Inline"
        }
      ],
      "default": "centered"
    },
    {
      "type": "select",
      "id": "icon_type",
      "label": "Icon",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "email",
          "label": "Email"
        },
        {
          "value": "heart",
          "label": "Heart"
        },
        {
          "value": "bell",
          "label": "Bell"
        },
        {
          "value": "gift",
          "label": "Gift"
        }
      ],
      "default": "email"
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Stay in the loop"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Subscribe to our newsletter for exclusive offers, new arrivals, and style inspiration."
    },
    {
      "type": "text",
      "id": "placeholder",
      "label": "Email placeholder",
      "default": "Enter your email address"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "Subscribe"
    },
    {
      "type": "header",
      "content": "Benefits"
    },
    {
      "type": "checkbox",
      "id": "show_benefits",
      "label": "Show benefits list",
      "default": true
    },
    {
      "type": "text",
      "id": "benefit_1",
      "label": "Benefit 1",
      "default": "Exclusive offers & discounts"
    },
    {
      "type": "text",
      "id": "benefit_2",
      "label": "Benefit 2",
      "default": "New product announcements"
    },
    {
      "type": "text",
      "id": "benefit_3",
      "label": "Benefit 3",
      "default": "Style tips & trends"
    },
    {
      "type": "header",
      "content": "GDPR Compliance"
    },
    {
      "type": "checkbox",
      "id": "show_consent",
      "label": "Show consent checkbox",
      "default": true
    },
    {
      "type": "textarea",
      "id": "consent_text",
      "label": "Consent text",
      "default": "I agree to receive marketing emails and understand I can unsubscribe at any time."
    },
    {
      "type": "checkbox",
      "id": "show_privacy_link",
      "label": "Show privacy policy link",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_disclaimer",
      "label": "Show disclaimer",
      "default": true
    },
    {
      "type": "text",
      "id": "disclaimer_text",
      "label": "Disclaimer text",
      "default": "No spam, unsubscribe at any time."
    },
    {
      "type": "header",
      "content": "Success Message"
    },
    {
      "type": "text",
      "id": "success_heading",
      "label": "Success heading",
      "default": "Welcome to our newsletter!"
    },
    {
      "type": "textarea",
      "id": "success_message",
      "label": "Success message",
      "default": "Thank you for subscribing. You'll receive a confirmation email shortly."
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#ffffff"
    }
  ],
  "presets": [
    {
      "name": "Newsletter Signup"
    }
  ]
}
{% endschema %}